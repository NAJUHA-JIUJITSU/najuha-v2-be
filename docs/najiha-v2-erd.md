# NAJUHA V2 ERD

> Generated by [`typeorm-markdown`](https://github.com/hermin9804/typeorm-markdown)



## Table of Contents



- [Application](#application)
- [Competition](#competition)
- [User](#user)


## Application

```mermaid
erDiagram
  player_snapshot {
    character_varying id PK
    character_varying name
    character_varying gender
    character_varying birth
    character_varying phoneNumber
    character_varying belt
    character_varying network
    character_varying team
    character_varying masterName
    timestamp_with_time_zone createdAt
    character_varying applicationId FK
  }
  payment_snapshot {
    character_varying id PK
    timestamp_with_time_zone createdAt
    integer normalAmount
    integer earlybirdDiscountAmount
    integer combinationDiscountAmount
    integer totalAmount
    character_varying applicationId FK
  }
  participation_divsion_info_snapshot {
    character_varying id PK
    timestamp_with_time_zone createdAt
    character_varying participationDivisionInfoId FK
    character_varying participationDivisionId FK
  }
  participation_division_info {
    character_varying id PK
    timestamp_with_time_zone createdAt
    character_varying applicationId FK
  }
  participation_division_info_payment {
    character_varying id PK
    timestamp_with_time_zone createdAt
    character_varying divisionId FK
    character_varying priceSnapshotId FK
    character_varying participationDivisionInfoId FK
  }
  additional_info {
    character_varying id PK
    timestamp_with_time_zone createdAt
    timestamp_with_time_zone updatedAt
    character_varying type
    character_varying value
    character_varying applicationId FK
  }
  application {
    character_varying id PK
    timestamp_with_time_zone createdAt
    timestamp_with_time_zone updatedAt
    timestamp_with_time_zone deletedAt
    character_varying type
    character_varying status
    character_varying competitionId FK
    character_varying userId FK
  }
  player_snapshot }|--|| application: application
  payment_snapshot }|--|| application: application
  participation_divsion_info_snapshot }|--|| participation_division_info: participationDivisionInfo
  participation_division_info }|--|| application: application
  participation_division_info_payment ||--|| participation_division_info: participationDivisionInfo
  additional_info }|--|| application: application
```

### additional_info

AdditionalInfo Entity
@namespace Application

**Properties**

  - `id`: 
  - `createdAt`: 
  - `updatedAt`: 
  - `type`: 
  - `value`: 
  - `applicationId`: 
  - `application`: 


### application

Application Entity
@namespace Application

**Properties**

  - `id`: 
  - `createdAt`: 
  - `updatedAt`: 
  - `deletedAt`: 
  - `type`: 
  - `status`: 
  - `playerSnapshots`: 
  - `paymentSnapshots`: 
  - `participationDivisionInfos`: 
  - `competitionId`: 
  - `competition`: 
  - `userId`: 
  - `user`: 
  - `additionalInfos`: 


### participation_division_info_payment

ParticipationDivisionInfoPayment Entity
@namespace Application

**Properties**

  - `id`: 
  - `createdAt`: 
  - `divisionId`: 
  - `division`: 
  - `priceSnapshotId`: 
  - `priceSnapshot`: 
  - `participationDivisionInfoId`: 
  - `participationDivisionInfo`: 


### participation_divsion_info_snapshot

ParticipationDivisionInfoSnapshot Entity
@namespace Application

**Properties**

  - `id`: 
  - `createdAt`: 
  - `participationDivisionInfoId`: 
  - `participationDivisionInfo`: 
  - `participationDivisionId`: 
  - `division`: 


### participation_division_info

ParticipationDivisionInfo Entity
@namespace Application

**Properties**

  - `id`: 
  - `createdAt`: 
  - `applicationId`: 
  - `application`: 
  - `participationDivisionInfoSnapshots`: 
  - `participationDivisionInfoPayment`: 


### payment_snapshot

PaymentSnapshot Entity
@namespace Application

**Properties**

  - `id`: 
  - `createdAt`: 
  - `normalAmount`: 
  - `earlybirdDiscountAmount`: 
  - `combinationDiscountAmount`: 
  - `totalAmount`: 
  - `applicationId`: 
  - `application`: 


### player_snapshot

PlayerSnapshot Entity
@namespace Application

**Properties**

  - `id`: 
  - `name`: 
  - `gender`: 
  - `birth`: 
  - `phoneNumber`: 
  - `belt`: 
  - `network`: 
  - `team`: 
  - `masterName`: 
  - `createdAt`: 
  - `applicationId`: 
  - `application`: 


## Competition

```mermaid
erDiagram
  price_snapshot {
    character_varying id PK
    integer price
    timestamp_with_time_zone createdAt
    character_varying divisionId FK
  }
  division {
    character_varying id PK
    character_varying category
    character_varying uniform
    character_varying gender
    character_varying belt
    character_varying weight
    character_varying birthYearRangeStart
    character_varying birthYearRangeEnd
    character_varying status
    timestamp_with_time_zone createdAt
    timestamp_with_time_zone updatedAt
    character_varying competitionId FK
  }
  earlybird_discount_snapshot {
    character_varying id PK
    timestamp_with_time_zone earlybirdStartDate
    timestamp_with_time_zone earlybirdEndDate
    integer discountAmount
    timestamp_with_time_zone createdAt
    character_varying competitionId FK
  }
  combination_discount_snapshot {
    character_varying id PK
    jsonb combinationDiscountRules
    timestamp_with_time_zone createdAt
    character_varying competitionId FK
  }
  required_additional_info {
    character_varying id PK
    character_varying type
    character_varying description
    timestamp_with_time_zone createdAt
    timestamp_with_time_zone deletedAt
    character_varying competitionId FK
  }
  competition_host {
    character_varying id PK
    character_varying hostId FK
    character_varying competitionId FK
  }
  competition {
    character_varying id PK
    character_varying title
    character_varying address
    timestamp_with_time_zone competitionDate
    timestamp_with_time_zone registrationStartDate
    timestamp_with_time_zone registrationEndDate
    timestamp_with_time_zone refundDeadlineDate
    timestamp_with_time_zone soloRegistrationAdjustmentStartDate
    timestamp_with_time_zone soloRegistrationAdjustmentEndDate
    timestamp_with_time_zone registrationListOpenDate
    timestamp_with_time_zone bracketOpenDate
    text description
    boolean isPartnership
    integer viewCount
    character_varying posterImgUrlKey
    character_varying status
    timestamp_with_time_zone createdAt
    timestamp_with_time_zone updatedAt
  }
  price_snapshot }|--|| division: division
  division }|--|| competition: competition
  earlybird_discount_snapshot }|--|| competition: competition
  combination_discount_snapshot }|--|| competition: competition
  required_additional_info }|--|| competition: competition
  competition_host }|--|| competition: competition
```

### combination_discount_snapshot

CombinationDiscountSnapshot Entity
@namespace Competition

**Properties**

  - `id`: 
  - `combinationDiscountRules`: 
  - `createdAt`: 
  - `competitionId`: 
  - `competition`: 


### competition_host

Competition Host Map Entity
@namespace Competition

**Properties**

  - `id`: 
  - `hostId`: 
  - `competitionId`: 
  - `user`: 
  - `competition`: 


### competition

Competition Entity
@namespace Competition

**Properties**

  - `id`: 
  - `title`: 
  - `address`: 
  - `competitionDate`: 
  - `registrationStartDate`: 
  - `registrationEndDate`: 
  - `refundDeadlineDate`: 
  - `soloRegistrationAdjustmentStartDate`: 
  - `soloRegistrationAdjustmentEndDate`: 
  - `registrationListOpenDate`: 
  - `bracketOpenDate`: 
  - `description`: 
  - `isPartnership`: 
  - `viewCount`: 
  - `posterImgUrlKey`: 
  - `status`: 
  - `createdAt`: 
  - `updatedAt`: 
  - `divisions`: 
  - `earlybirdDiscountSnapshots`: 
  - `combinationDiscountSnapshots`: 
  - `requiredAdditionalInfos`: 
  - `applications`: 
  - `competitionHostMaps`: 


### division

Division Entity
@namespace Competition

**Properties**

  - `id`: 
  - `category`: 
  - `uniform`: 
  - `gender`: 
  - `belt`: 
  - `weight`: 
  - `birthYearRangeStart`: 
  - `birthYearRangeEnd`: 
  - `status`: 
  - `createdAt`: 
  - `updatedAt`: 
  - `competitionId`: 
  - `competition`: 
  - `priceSnapshots`: 
  - `participationDivisionInfoSnapshots`: 


### earlybird_discount_snapshot

EarlybirdDiscountSnapshot Entity
@namespace Competition

**Properties**

  - `id`: 
  - `earlybirdStartDate`: 
  - `earlybirdEndDate`: 
  - `discountAmount`: 
  - `createdAt`: 
  - `competitionId`: 
  - `competition`: 


### price_snapshot

PriceSnapshot Entity
@namespace Competition

**Properties**

  - `id`: 
  - `price`: 
  - `createdAt`: 
  - `divisionId`: 
  - `division`: 
  - `participationDivisionInfoPayments`: 


### required_additional_info

RequiredAdditionalInfo Entity
@namespace Competition

**Properties**

  - `id`: 
  - `type`: 
  - `description`: 
  - `createdAt`: 
  - `deletedAt`: 
  - `competitionId`: 
  - `competition`: 


## User

```mermaid
erDiagram
  policy {
    character_varying id PK
    integer version
    character_varying type
    boolean isMandatory
    character_varying title
    text content
    timestamp_with_time_zone createdAt
  }
  policy_consent {
    character_varying id PK
    timestamp_with_time_zone createdAt
    character_varying userId FK
    character_varying policyId FK
  }
  user {
    character_varying id PK
    character_varying role
    character_varying snsAuthProvider
    character_varying snsId
    character_varying email
    character_varying name
    character_varying phoneNumber
    character_varying nickname
    character_varying gender
    character_varying birth
    character_varying belt
    character_varying profileImageUrlKey
    character_varying status
    timestamp_with_time_zone createdAt
    timestamp_with_time_zone updatedAt
  }
  policy_consent }|--|| user: user
  policy_consent }|--|| policy: policy
```

### policy

Policy Entity
@namespace User

**Properties**

  - `id`: 
  - `version`: 
  - `type`: 
  - `isMandatory`: 
  - `title`: 
  - `content`: 
  - `createdAt`: 
  - `policyConsents`: 


### policy_consent

PolicyConsent Entity
@namespace User

**Properties**

  - `id`: 
  - `createdAt`: 
  - `userId`: 
  - `user`: - user
  - `policyId`: - policyId.
  - `policy`: - policy


### user

User Entity
@namespace User

**Properties**

  - `id`: 
  - `role`: 
  - `snsAuthProvider`: 
  - `snsId`: 
  - `email`: 
  - `name`: 
  - `phoneNumber`: 
  - `nickname`: 
  - `gender`: 
  - `birth`: 
  - `belt`: 
  - `profileImageUrlKey`: 
  - `status`: 
  - `createdAt`: 
  - `updatedAt`: 
  - `policyConsents`: 
  - `applications`: 
  - `competitionHostMaps`: 

